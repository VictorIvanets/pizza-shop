import{r as o,j as s,b as _,a as h,L as j,e as u,o as p}from"./vendor-CkiKrRaq.js";import{c as N,H as f,P as v,a as b}from"./index-CIrOSC5-.js";const E=o.forwardRef(function({isValid:e=!0,className:i,...n},r){return s.jsxs("div",{className:"search",children:[s.jsx("img",{className:"search__icon",src:"search-05.png",alt:"search"}),s.jsx("input",{ref:r,className:_("input",i,{invalid:!e}),...n}),";"]})});function F(a){const{name:e,ingredients:i,image:n,price:r,rating:l,id:d}=a,g=(r/3).toFixed(2),c=h(),t=m=>{m.preventDefault(),c(N.add(d))};return s.jsx(s.Fragment,{children:s.jsx(j,{to:`/product/${d}`,className:"linkcard",children:s.jsxs("div",{className:"goodscard",children:[s.jsxs("div",{className:"goodscard__imgbox",children:[s.jsx("img",{className:"goodscard__imgbox__img",src:n,alt:"foto"}),s.jsx("div",{className:"goodscard__imgbox__price",children:s.jsxs("h2",{className:"dark",children:[g,s.jsx("span",{children:"₴"})]})}),s.jsxs("div",{className:"goodscard__imgbox__raiting",children:[s.jsx("p",{className:"dark bold",children:l}),s.jsx("img",{className:"goodscard__imgbox__raiting__icon",src:"/star-06.svg",alt:"star"})]}),s.jsx("button",{onClick:t,className:"goodscard__imgbox__cart",children:s.jsx("img",{className:"goodscard__imgbox__cart__icon",src:"/Left-icon-03.png",alt:"cart"})})]}),s.jsxs("div",{className:"goodscard__text",children:[s.jsx("h2",{children:e}),s.jsx("p",{children:i})]})]})})})}function x({products:a}){return a.map(e=>s.jsx(F,{name:e.name,ingredients:e.ingredients.join(", "),image:e.image,price:e.price,rating:e.rating,id:e.id},e.id))}function k({error:a}){return s.jsxs("div",{className:"preloaderbox",children:[s.jsx("h1",{className:"preloader__text light",children:a}),s.jsx("h2",{className:"preloader__text",children:"Введіть вірні дані "})]})}function L(){const[a,e]=o.useState([]),[i,n]=o.useState(""),[r,l]=o.useState(),d=async c=>{try{const{data:t}=await u.get(`${b}/products`,{params:{name:c}});e(t)}catch(t){t instanceof p&&n(`${t.message}`);return}},g=c=>{console.log(c.target.value),l(c.target.value)};return o.useEffect(()=>{d(r)},[r]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"rightpanel__menu",children:[s.jsx(f,{children:"Меню"}),s.jsx(E,{onChange:g,placeholder:"Блюдо або склад"})]}),";",s.jsxs("div",{className:"rightpanel__menubox",children:[!a.length&&!r?s.jsx(v,{error:i}):s.jsx(x,{products:a}),!a.length&&r?s.jsx(k,{error:"Такого товару немає"}):s.jsx(x,{products:a})]})]})}export{L as Menu,L as default};
