import{a as m,r as o,j as s,c as h,u,L as j,b as p,H as N,P as f,d as v}from"./index-DSFu9mNp.js";const{Axios:k,AxiosError:b,CanceledError:A,isCancel:H,CancelToken:P,VERSION:L,all:R,Cancel:D,isAxiosError:M,spread:$,toFormData:w,AxiosHeaders:y,HttpStatusCode:G,formToJSON:I,getAdapter:O,mergeConfig:T}=m,E=o.forwardRef(function({isValid:e=!0,className:i,...n},r){return s.jsxs("div",{className:"search",children:[s.jsx("img",{className:"search__icon",src:"search-05.png",alt:"search"}),s.jsx("input",{ref:r,className:h("input",i,{invalid:!e}),...n}),";"]})});function C(a){const{name:e,ingredients:i,image:n,price:r,rating:l,id:d}=a,g=(r/3).toFixed(2),t=u(),c=_=>{_.preventDefault(),t(p.add(d))};return s.jsx(s.Fragment,{children:s.jsx(j,{to:`/product/${d}`,className:"linkcard",children:s.jsxs("div",{className:"goodscard",children:[s.jsxs("div",{className:"goodscard__imgbox",children:[s.jsx("img",{className:"goodscard__imgbox__img",src:n,alt:"foto"}),s.jsx("div",{className:"goodscard__imgbox__price",children:s.jsxs("h2",{className:"dark",children:[g,s.jsx("span",{children:"₴"})]})}),s.jsxs("div",{className:"goodscard__imgbox__raiting",children:[s.jsx("p",{className:"dark bold",children:l}),s.jsx("img",{className:"goodscard__imgbox__raiting__icon",src:"/star-06.svg",alt:"star"})]}),s.jsx("button",{onClick:c,className:"goodscard__imgbox__cart",children:s.jsx("img",{className:"goodscard__imgbox__cart__icon",src:"/Left-icon-03.png",alt:"cart"})})]}),s.jsxs("div",{className:"goodscard__text",children:[s.jsx("h2",{children:e}),s.jsx("p",{children:i})]})]})})})}function x({products:a}){return a.map(e=>s.jsx(C,{name:e.name,ingredients:e.ingredients.join(", "),image:e.image,price:e.price,rating:e.rating,id:e.id},e.id))}function S({error:a}){return s.jsxs("div",{className:"preloaderbox",children:[s.jsx("h1",{className:"preloader__text light",children:a}),s.jsx("h2",{className:"preloader__text",children:"Введіть вірні дані "})]})}function J(){const[a,e]=o.useState([]),[i,n]=o.useState(""),[r,l]=o.useState(),d=async t=>{try{const{data:c}=await m.get(`${v}/products`,{params:{name:t}});e(c)}catch(c){c instanceof b&&n(`${c.message}`);return}},g=t=>{console.log(t.target.value),l(t.target.value)};return o.useEffect(()=>{d(r)},[r]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"rightpanel__menu",children:[s.jsx(N,{children:"Меню"}),s.jsx(E,{onChange:g,placeholder:"Блюдо або склад"})]}),";",s.jsxs("div",{className:"rightpanel__menubox",children:[!a.length&&!r?s.jsx(f,{error:i}):s.jsx(x,{products:a}),!a.length&&r?s.jsx(S,{error:"Такого товару немає"}):s.jsx(x,{products:a})]})]})}export{J as Menu,J as default};
